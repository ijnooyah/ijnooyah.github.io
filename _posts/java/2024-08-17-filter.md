---
title: "[Java] ν•„ν„°(Filter)"
excerpt: ""

categories:
  - Java
tags:
  - [Java]

permalink: /java/filter/

toc: true
toc_sticky: true

date: 2024-08-17
last_modified_at: 2024-08-28
---
# πΏ ν•„ν„°(Filter)λ€?
<strong>ν•„ν„°λ” <mark>HTTP μ”μ²­κ³Ό μ‘λ‹µμ„ λ³€κ²½ν•  μ μλ” μ¬μ‚¬μ© κ°€λ¥ν• μ½”λ“</mark>μ΄λ‹¤.</strong> ν•„ν„°λ” κ°μ²΄μ ν•νƒλ΅ μ΅΄μ¬ν•λ©° ν΄λΌμ΄μ–ΈνΈλ΅λ¶€ν„° μ¤λ” μ”μ²­(request)κ³Ό μµμΆ… μμ›(servlet λ“±) μ‚¬μ΄μ— μ„μΉν•μ—¬ ν΄λΌμ΄μ–ΈνΈμ μ”μ²­ μ •λ³΄λ¥Ό μ•λ§κ² λ³€κ²½ν•  μ μμΌλ©°, μµμΆ… μμ›κ³Ό μ‘λ‹µ(response) μ‚¬μ΄μ— μ„μΉν•μ—¬ μ”μ²­ κ²°κ³Όλ¥Ό μ•λ§κ² λ³€κ²½ν•  μ μλ‹¤. ν•„ν„°λ” μ„λΈ”λ¦Ώ μ»¨ν…μ΄λ„μ—μ„ μƒμ„±, μ‹¤ν–‰, μΆ…λ£λλ‹¤.  
μ •λ¦¬ν•μλ©΄ **ν΄λΌμ΄μ–ΈνΈμ μ”μ²­κ³Ό μ„λ²„μ μ‘λ‹µμ„ κ°€κ³µν•κ±°λ‚ κ²€μ‚¬ν•λ”λ° μ‚¬μ©**λλ‹¤.

# π“ ν•„ν„°μ κΈ°λ³Έ κµ¬μ΅°
![filter chain](/assets/images/posts_img/spring/filter/filterchain.jpg)

μμ›μ΄ λ°›κ² λλ” μ”μ²­ μ •λ³΄λ” ν΄λΌμ΄μ–ΈνΈμ™€ μμ› μ‚¬μ΄μ— μ΅΄μ¬ν•λ” ν•„ν„°μ— μν•΄ λ³€κ²½λ μ”μ²­μ •λ³΄κ°€ λλ©°, ν΄λΌμ΄μ–ΈνΈκ°€ λ³΄κ² λλ” μ‘λ‹µ μ •λ³΄λ” ν΄λΌμ΄μ–ΈνΈμ™€ μμ›μ‚¬μ΄μ— μ΅΄μ¬ν•λ” ν•„ν„°μ— μν•΄ λ³€κ²½λ μ‘λ‹µμ •λ³΄κ°€ λλ‹¤. 

ν•„ν„°λ” μ„μ κ·Έλ¦Όκ³Ό κ°™μ΄ μ—¬λ¬κ°μ ν•„ν„°κ°€ λ¨μ—¬μ„ ν•λ‚μ μ²΄μΈ(chain)μ„ ν•μ„±ν•  μ μλ‹¤.

# π¥ ν•„ν„° μΈν„°νμ΄μ¤
```java
public class FirstFilter implements javax.servlet.Filter {

    public void init(FilterConfig filterConfig) throws ServletException {
      // ν•„ν„° μ΄κΈ°ν™” μ‘μ—…
    }
    
    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {
      chain.doFilter(request, response); // μ”μ²­μ ν•„ν„°λ§ κ²°κ³Όλ¥Ό λ‹¤μ ν•„ν„°μ— μ „λ‹¬    
    }
    
    public void destroy() {
      // μ£Όλ΅ ν•„ν„°κ°€ μ‚¬μ©ν• μμ›μ„ λ°λ‚©
    }
}
```
- `init()`: ν•„ν„°λ¥Ό μ›Ή μ»¨ν…μ΄λ„μ— μƒμ„±ν• ν›„ μ΄κΈ°ν™”ν•  λ• νΈμ¶
- `doFilter()`: μ²΄μΈμ„ λ”°λΌ λ‹¤μμ— μ΅΄μ¬ν•λ” ν•„ν„°λ΅ μ΄λ™. μ²΄μΈμ κ°€μ¥ λ§μ§€λ§‰μ—λ” ν΄λΌμ΄μ–ΈνΈκ°€ μ”μ²­ν• μµμΆ… μμ›μ΄ μ„μΉ
- `destroy()`: ν•„ν„°κ°€ μ›Ή μ»¨ν…μ΄λ„μ—μ„ μ‚­μ λ  λ• νΈμ¶

μ„λΈ”λ¦Ώ μ»¨ν…μ΄λ„λ” μ‚¬μ©μκ°€ νΉμ •ν• μμ› μ”μ²­ μ‹ κ·Έ μμ› μ‚¬μ΄μ— ν•„ν„°κ°€ μ΅΄μ¬ν•λ” κ²½μ° κ·Έ ν•„ν„° κ°μ²΄μ `doFilter()` λ©”μ†λ“λ¥Ό νΈμ¶ν•λ©°, λ°”λ΅ κ·Έ μ‹μ λ¶€ν„° ν•„ν„°κ°€ μ‘μ©ν•κΈ° μ‹μ‘ν•λ‹¤.

---

<p class="ref">μ°Έκ³ </p>
- [https://javacan.tistory.com/entry/58](https://javacan.tistory.com/entry/58){: target="_blank"}
